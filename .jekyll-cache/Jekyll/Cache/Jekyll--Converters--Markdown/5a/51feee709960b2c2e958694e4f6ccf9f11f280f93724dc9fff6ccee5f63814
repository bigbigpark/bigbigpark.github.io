I"£<p>ë©”ì„¸ì§€(.msg)íŒŒì¼ë§Œ ëª¨ì•„ë‘” íŒ¨í‚¤ì§€ë¥¼ ë”°ë¡œ ë§Œë“¤ê³  ì´ë¥¼ ì´ìš©í•´ë³´ì &lt;/br&gt;</p>

<h2 id="ê°œìš”">ê°œìš”</h2>

<p>ROSë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ .msgíŒŒì¼ë§Œ ë”°ë¡œ ëª¨ì•„ì„œ ì´ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. <br /></p>

<p>í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ ì•ˆì— <strong>msg</strong>ë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì´ìš©í•˜ê²Œ ë˜ëŠ” ê²½ìš°, ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œ ì´ ë©”ì„¸ì§€ë¥¼ ì´ìš©í•˜ë ¤ í•  ë•Œ ë¬¸ì œê°€ ìƒê¸´ë‹¤. <br /></p>

<p>ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ ë©”ì„¸ì§€ íŒŒì¼ë§Œ ëª¨ì•„ë‘” íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ì´ìš©í•´ë³´ì! <br /></p>

<h2 id="ë©”ì„¸ì§€-íŒ¨í‚¤ì§€-ë§Œë“¤ê¸°">ë©”ì„¸ì§€ íŒ¨í‚¤ì§€ ë§Œë“¤ê¸°</h2>

<p>ìš°ì„  ê¸°ë³¸ì ì¸ ROS íŠ¹ì„±ì„ ì•„ëŠ” ìœ ì € ëŒ€ìƒìœ¼ë¡œ ê¸€ì„ ì ëŠ”ë‹¤. <br /></p>

<p><strong>robot_msgs</strong>ë¼ëŠ” ì´ë¦„ì˜ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì. <br /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>catkin_create_pkg robot_msgs std_msgs message_runtime message_generation
</code></pre></div></div>

<p><br /></p>

<p>ì´í›„ ë©”ì„¸ì§€ íŒŒì¼ì´ ë‹´ê¸¸ <strong>msg</strong>ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ì. <br />
ìµœì¢… íŒŒì¼ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ“¦src
 â”— ğŸ“‚robot_msgs
 â”ƒ â”£ ğŸ“‚msg
 â”ƒ â”£ ğŸ“œCMakeLists.txt
 â”ƒ â”— ğŸ“œpackage.xml
</code></pre></div></div>

<h2 id="ì‚¬ìš©í• -ë©”ì„¸ì§€-ë§Œë“¤ê¸°">ì‚¬ìš©í•  ë©”ì„¸ì§€ ë§Œë“¤ê¸°</h2>

<p>ë‚˜ëŠ” <strong>RobotInfo.msg</strong>ë¼ëŠ” ë©”ì„¸ì§€ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ì—ˆë‹¤. <br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>std_msgs/Header Header
string name
uint8 id
float32 linear_velocity
float32 angular_velocity
</code></pre></div></div>

<h2 id="packagexml-ìˆ˜ì •í•˜ê¸°">package.xml ìˆ˜ì •í•˜ê¸°</h2>

<p>ì•„ë˜ ì¤„ì„ ì¶”ê°€í•´ì£¼ì. <br />
ROS ë²„ì „ì— ë”°ë¼ <strong>run_depend</strong>ë¼ê³  ì í˜€ ìˆê¸°ë„ í•œë‹¤. <br /></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;build_depend&gt;</span>message_runtime<span class="nt">&lt;/build_depend&gt;</span>
<span class="nt">&lt;exec_depend&gt;</span>message_generation<span class="nt">&lt;/exec_depend&gt;</span>
</code></pre></div></div>

<h2 id="cmakeliststxt-ìˆ˜ì •í•˜ê¸°">CMakeLists.txt ìˆ˜ì •í•˜ê¸°</h2>

<p>ìˆëŠ” ë‚´ìš©ì„ ì „ë¶€ ì§€ìš°ê³  ì•„ë˜ ë‚´ìš©ìœ¼ë¡œ ë¶™ì—¬ë„£ê¸° í•œë‹¤. <br />
ê° ë¼ì¸ì´ ì–´ë–¤ ê²ƒì„ ì˜ë¯¸í•˜ëŠ” ì§€ëŠ” ì£¼ì„ì„ ë‹¬ì•„ë†¨ë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë³¸ì¸ì˜ cmake ë²„ì „ì„ ì ìœ¼ë©´ ëœë‹¤</span>
cmake_minimum_required<span class="o">(</span>VERSION 3.0.2<span class="o">)</span>

<span class="c"># ë³¸ì¸ì˜ í”„ë¡œì íŠ¸ëª…, ì—¬ê¸°ì„œëŠ” robot_msgs</span>
project<span class="o">(</span>robot_msgs<span class="o">)</span>

find_package<span class="o">(</span>catkin REQUIRED COMPONENTS
  message_generation
  message_runtime
  std_msgs
<span class="o">)</span>

<span class="c"># ì•„ê¹Œ ìƒì„±í•´ë‘” msg í´ë” ì•ˆì— ìˆëŠ” .msg íŒŒì¼ ëª¨ë‘ë¥¼ ë‚˜ì—´í•´ì¤€ë‹¤</span>
add_message_files<span class="o">(</span>
  FILES
  RobotInfo.msg
<span class="o">)</span>

<span class="c"># ìœ„ì—ì„œ ì¶”ê°€í•œ .msg íŒŒì¼ì—ì„œ ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ê°€ ìˆë‹¤ë©´ ê¸°ìˆ í•´ì¤€ë‹¤</span>
<span class="c"># RobotInfo.msgì˜ ê²½ìš° std_msgs/Header ë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì—</span>
<span class="c"># std_msgsë¥¼ ì¶”ê°€í•´ì¤€ë‹¤</span>
generate_messages<span class="o">(</span>
  DEPENDENCIES
  std_msgs
<span class="o">)</span>

catkin_package<span class="o">(</span>
 CATKIN_DEPENDS message_generation message_runtime std_msgs
<span class="o">)</span>
</code></pre></div></div>

<p>ì! ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ë©´ ë©”ì„¸ì§€ë§Œ ìˆëŠ” íŒ¨í‚¤ì§€ê°€ ì™„ì„±ë˜ì—ˆë‹¤. <br />
ì—¬ê¸°ì„œ ìƒˆë¡­ê²Œ ë©”ì„¸ì§€ë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒ ë‘ ë‹¨ê³„ë§Œ ê±°ì¹˜ë©´ ëœë‹¤. <br /></p>
<ol>
  <li>msg í´ë” ì•ˆì— ë©”ì„¸ì§€ íŒŒì¼ ì¶”ê°€í•  ê²ƒ</li>
  <li>ì¶”ê°€í•œ íŒŒì¼ì„ CMakeLists.txt ì•ˆì— add_message_files ë°‘ì— ë‚˜ì—´í•  ê²ƒ</li>
</ol>

<p><br /></p>

<p>ë©”ì„¸ì§€ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì–´ë–»ê²Œ ì´ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ì. <br />
ì´ íŒ¨í‚¤ì§€ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì •ë§ ê°„ë‹¨í•˜ë‹¤. <br /></p>

<h2 id="ë©”ì„¸ì§€-íŒ¨í‚¤ì§€-ë¹Œë“œ-ë°-ì‚¬ìš©í•´ë³´ê¸°">ë©”ì„¸ì§€ íŒ¨í‚¤ì§€ ë¹Œë“œ ë° ì‚¬ìš©í•´ë³´ê¸°</h2>

<p>ì´ ë©”ì„¸ì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ìš©í•˜ëŠ” ê³³ì˜ CMakeLists.txtì™€ package.xmlì— ëª‡ ì¤„ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤. <br /></p>

<h2 id="packagexml-ìˆ˜ì •">package.xml ìˆ˜ì •</h2>

<p>3ê°€ì§€ë¥¼ ì¶”ê°€ ê¸°ì…í•´ì¤€ë‹¤. <br /></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;build_depend&gt;</span>robot_msgs<span class="nt">&lt;/build_depend&gt;</span>
<span class="nt">&lt;build_export_depend&gt;</span>robot_msgs<span class="nt">&lt;/build_export_depend&gt;</span>
<span class="nt">&lt;exec_depend&gt;</span>robot_msgs<span class="nt">&lt;/exec_depend&gt;</span>
</code></pre></div></div>

<h2 id="cmakeliststxt-ìˆ˜ì •">CMakeLists.txt ìˆ˜ì •</h2>

<p>find_package()ì™€ catkin_package() ì œì¼ ëì— ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ robot_msgs íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤. <br />
ì¶”ê°€ë¥¼ í•˜ê³  ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤.</p>

<div class="language-cmake highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">find_package</span><span class="p">(</span>catkin REQUIRED COMPONENTS
  roscpp
  std_msgs
  robot_msgs
<span class="p">)</span>

<span class="nf">catkin_package</span><span class="p">(</span>
  CATKIN_DEPENDS  roscpp std_msgs robot_msgs
<span class="p">)</span>
</code></pre></div></div>

<p>ì´ì œ ëª¨ë“  ì¤€ë¹„ëŠ” ë! ë°”ë¡œ ì´ìš©í•´ ë³¼ ì‹œê°„ì´ë‹¤! <br /></p>

<h2 id="ì½”ë“œ-ì‘ì„±í•´ë³´ê¸°">ì½”ë“œ ì‘ì„±í•´ë³´ê¸°</h2>

<p>ì•„ë˜ì™€ ê°™ì´ ì´ìš©í•˜ë©´ ëœë‹¤. <br /></p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;ros/ros.h&gt;</span><span class="cp">
</span>
<span class="c1">// ì´ë ‡ê²Œ ì•„ê¹Œ ë¹Œë“œí•œ íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•´ì£¼ì</span>
<span class="cp">#include</span> <span class="cpf">&lt;robot_msgs/RobotInfo.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ros</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">,</span> <span class="s">"main"</span><span class="p">);</span>
  <span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span> <span class="n">nh</span><span class="p">;</span>

  <span class="n">robot_msgs</span><span class="o">::</span><span class="n">RobotInfo</span> <span class="n">msg</span><span class="p">;</span>

  <span class="n">ROS_INFO</span><span class="p">(</span><span class="s">"linear_velocity: %f"</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">linear_velocity</span><span class="p">);</span>
  <span class="n">ROS_INFO</span><span class="p">(</span><span class="s">"angular_velocity: %f"</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">angular_velocity</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
:ET